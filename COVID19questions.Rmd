---
title: "COVID-19 questions"
output:
  learnr::tutorial:
    progressive: true
    allow_skip: true
runtime: shiny_prerendered
description: >
  Exploit COVID-19 for graph interpretation
---

```{r setup, include=FALSE}
library(learnr)
knitr::opts_chunk$set(echo = FALSE)
```

## Plot axes

```{r, echo=FALSE, messages=FALSE}
NSW<- readRDS(file="NSWcases.Rda")
```

The following plot shows the number of confirmed cases of COVID-19 infection on each day since 4 March.

```{r, echo=FALSE, message=FALSE, warning=FALSE, fig.height=4, fig.width=4,  fig.cap = ""}
require(ggplot2)
NSWcor<-cor.test(as.numeric(NSW$date),NSW$cases) 
g<-ggplot( data = NSW, aes( date, cases )) + geom_point() + theme_bw() + ylab("Confirmed cases in NSW") + scale_x_date(date_minor_breaks=("1 days")) + ylim(0,NA)
show(g)
```


```{r axes}
question("Which is true of the axes of this plot?",
    answer("The horizontal axis is geometric; the vertical is logarithmic."),
    answer("The horizontal axis is linear; the vertical is logarithmic.", correct=TRUE, message="Correct. The vertical axis is logarithmic."),
    answer("The horizontal axis is logarithmic; the vertical is hypergeometric."),
    answer("The horizontal axis is logarithmic; the vertical is logarithmic."),
    allow_retry = TRUE
)
```


```{r slope1}
question("What would a perfectly straight line on this plot indicate? Select ALL that are correct.",
    answer("A constant rate of increase.", correct=TRUE),
    answer("The doubling time of the number of confirmed cases is constant.", message="No, that would be an exponential growth rather than linear."),
    answer("Each day, the number of confirmed cases increases by a constant percentage.", message="No, that would be an exponential growth rather than linear."),
    answer("Each day, the number of confirmed cases increases by the same amount as the previous day.", correct=TRUE),
    allow_retry = TRUE
)
```

## Graph interpretation

```{r, echo=FALSE, message=FALSE, warning=FALSE, fig.height=4, fig.width=4,  fig.cap = ""}
show(g)
```

```{r slope2}
question("Between 9 March and 23 March, what is the pattern for the increase in cases? Select ALL that are correct.",
    answer("The cases increased steadily, at a constant rate.", message="No, that would only be true if the cases fell on a straight line."),
    answer("More quickly at the end of that period than at the beginning.", correct=TRUE),
    answer("Each day, the number of cases decreased by a constant percentage.", message="No, they certainly did not decrease."),
    answer("In accelerating fashion.", correct=TRUE),
    allow_retry = TRUE
)
```

## A popular and complicated plot

```{r, echo=FALSE, out.width = "750px"}
knitr::include_graphics("images/30MarCovid19CasesFT.png") #You can't change the image directory for Shiny apps
``` 

What may be slightly confusing in this plot is that the labels on the vertical axis are not equally spaced, in order to position them at round numbers.

```{r, echo=FALSE, fig.cap="https://twitter.com/jperla/status/1243349875015553024", out.width = "750px"}
knitr::include_graphics("images/masksNoMasksExplainsIt.png") #You can't change the image directory for Shiny apps
``` 




```{r ideaimage}
question("What idea do you think the person who scrawled on this image wished to encourage?",
    answer("Masks prevent COVID-19 cases from growing exponentially.",message="No, because the lines in the Masks group are fairly linear on this semi-log plot, indicating that they are growing exponentially, just slower than the masks ones"),
    answer("COVID-19 cases encourage mask wearing."),
    answer("Wearing a mask slows the rate of infections.", correct = TRUE),
    answer("Masks are an important dependent variable"),
    allow_retry = TRUE
)
```

## Next

```{r, echo=FALSE, fig.cap="https://twitter.com/jperla/status/1243349875015553024", out.width = "750px"}
knitr::include_graphics("images/masksNoMasksExplainsIt.png") #You can't change the image directory
``` 

```{r ideaimage2}
question("'Wearing a mask slows the rate of infection' is an example of:",
    answer("An inescapable conclusion.",message="jump"),
    answer("A correlational statement."),
    answer("A causal statement.", correct = TRUE),
    answer("A very ambiguous statement.", message="I don't see anything particularly ambiguous about this."),
    answer("An independently variable statement.", message= "This sentence doesn't mean anything, as far as I know."),
    allow_retry = TRUE
)
```

A common mistake people make is to assume there is only one reason for 

```{r ianotherFactor}
question("Other factor(s) that might explain some of the difference between the blue-circled countries and the red ones:",
    answer("Climate.",correct=TRUE),
    answer("Handshaking customs.",correct=TRUE),
    answer("Government diligence in testing and tracing contacts of COVID-19 patients.", correct=TRUE),
    answer("Responsiveness of population to government recommendations.", correct=TRUE),
    answer("Quarantine policy.", correct=TRUE),
    allow_retry = TRUE
)
```

## Reactions

```{r, echo=FALSE, out.width = "400px"}
knitr::include_graphics("images/maskNoMasksReactions.png")
``` 


```{r multivariate}
question("What standard approach might be used to try to estimate the effects of mask wearing and temperature?",
    answer("Multivariate regression.",correct=TRUE),
    answer("Standard deviation."),
    answer("Regression to the mean."),
    answer("Post hoc ergo propter hoc.", message="I don't see anything particularly ambiguous about this."),
    allow_retry = TRUE
)
```


But, with an exponentially-growing pandemic, we don't have time to wait for strong evidence.
